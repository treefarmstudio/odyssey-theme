---
const {href, unelevated, outlined, materialIcon, onPrimary, newTab} = Astro.props;
---

{href && newTab && 
  <a class={`btn ${unelevated && `btn--unelevated`} ${outlined && `btn--outlined`} ${onPrimary && `btn--on-primary`}`} href={href} target="_blank" rel="noopener noreferrer">
  <slot></slot>
  {materialIcon && <span class="material-icons">{materialIcon}</span>}
  </a>}

{href && !newTab &&
  <a class={`btn ${unelevated && `btn--unelevated`} ${outlined && `btn--outlined`} ${onPrimary && `btn--on-primary`}`} href={href}>
  <slot></slot>
  {materialIcon && <span class="material-icons">{materialIcon}</span>}
  </a>}

{!href && !newTab && <button class={`btn ${unelevated && `btn--unelevated`} ${outlined && `btn--outlined`} ${onPrimary && `btn--on-primary`}`}>
  <slot></slot>
  {materialIcon && <span class="material-icons">{materialIcon}</span>}
  </button>}

<style>
.btn {
  width: fit-content;
  padding: 0.36rem 0.92rem;
  margin-bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--theme-primary);
  color: var(--theme-on-primary);
  border: none;
  border-radius: var(--theme-button-border-radius);
  font-weight: 500;
}
.btn:hover {
  background-color: var(--theme-primary-hover);
}
.btn--unelevated {
  background-color: transparent;
  color: var(--theme-on-bg);
}
.btn--unelevated:hover {
  background-color: transparent;
  opacity: var(--theme-primary-hover);
}
.btn--outlined {
  color: var(--theme-primary);
  background-color: transparent;
  border: 2px solid var(--theme-primary);
  transition: background-color var(--theme-transition);
}
.btn--outlined:hover {
  background-color: var(--theme-primary);
  color: var(--theme-on-primary);
}
.material-icons {
  margin-left: 0.25rem;
}
a.btn {
  text-decoration: none;
}
button.btn {
  cursor: pointer;
  outline: none;
}
</style>
